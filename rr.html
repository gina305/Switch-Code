
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blog Tiles</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Bootstrap JavaScript and Popper.js -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
</head>
<body>
  <div class="container">
    <div class="row" id="blogs-container">
      <!-- Blog tiles will be appended here -->
    </div>
  </div>

  <script>
  const apiKey = "keyUKafa60cDwHmoq";
  const baseId = "app32VEPUDOKJwj8t";

    async function fetchBlogs() {
      const response = await fetch(
        `https://api.airtable.com/v0/${baseId}/Blogs?view=Grid%20view`,
        {
          headers: {
            Authorization: `Bearer ${apiKey}`,
            "Content-Type": "application/json",
          },
        }
      );

      const data = await response.json();
      const blogs = data.records;
      displayBlogs(blogs);
    }

    function displayBlogs(blogs) {
      const container = document.getElementById("blogs-container");
      blogs.forEach((blog) => {
        const col = document.createElement("div");
        col.classList.add("col-md-4");

        const card = document.createElement("div");
        card.classList.add("card", "my-3");

        const img = document.createElement("img");
        img.src = blog.fields.ImageURL;
        img.classList.add("card-img-top");
        img.alt = blog.fields.Title;
        card.appendChild(img);

        const cardBody = document.createElement("div");
        cardBody.classList.add("card-body");

        const title = document.createElement("h5");
        title.classList.add("card-title");
        title.textContent = blog.fields.Title;
        cardBody.appendChild(title);

        const description = document.createElement("p");
        description.classList.add("card-text");
        description.textContent = blog.fields.Description;
        cardBody.appendChild(description);

        const link = document.createElement("a");
        link.href = blog.fields.Link;
        link.classList.add("btn", "btn-primary");
        link.textContent = "Read more";
        cardBody.appendChild(link);

        card.appendChild(cardBody);
        col.appendChild(card);
        container.appendChild(col);
      });
    }

    fetchBlogs();
  </script>
</body>
</html>
